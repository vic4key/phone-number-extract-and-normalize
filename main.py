import phonenumbers

def extract_phone_numbers(text: str):
	''' Extract phone numbers from text
	'''
	result = []
	try:
		tmp = phonenumbers.parse(text, "VN")
		result.append(f"0{tmp.national_number}")
	except Exception as e: pass
	return result

def test():
	''' Test function
    '''

	# SĐT 10 số
	list_test_10_digits =\
	[
		# None
		'981234567',
		'98 123 4567',
		'98.123.4567',
		'98-123-4567',
		# 098
		'0981234567',
		'098 123 4567',
		'098.123.4567',
		'098-123-4567',
		# 84
		'84981234567',
		'84 98 123 4567',
		'84 98.123.4567',
		'84 98-123-4567',
		# 84 098
		'840981234567',
		'84 098 123 4567',
		'84 098.123.4567',
		'84 098-123-4567',
		# (84)
		'(84)981234567',
		'(84) 98 123 4567',
		'(84) 98.123.4567',
		'(84) 98-123-4567',
		# (84) 098
		'(84)0981234567',
		'(84) 098 123 4567',
		'(84) 098.123.4567',
		'(84) 098-123-4567',
		# +84
		'+84981234567',
		'+84 98 123 4567',
		'+84 98.123.4567',
		'+84 98-123-4567',
		# +84 098
		'+840981234567',
		'+84 098 123 4567',
		'+84 098.123.4567',
		'+84 098-123-4567',
		# (+84)
		'(+84)981234567',
		'(+84) 98 123 4567',
		'(+84) 98.123.4567',
		'(+84) 98-123-4567',
		# (+84) 098
		'(+84)0981234567',
		'(+84) 098 123 4567',
		'(+84) 098.123.4567',
		'(+84) 098-123-4567',
	]
	
	# SĐT 11 số
	list_test_11_digits =\
	[
		# None
		'01681234567',
		'0168 123 4567',
		'0168.123.4567',
		'0168-123-4567',
		# 098
		'01681234567',
		'0168 123 4567',
		'0168.123.4567',
		'0168-123-4567',
		# 84
		'841681234567',
		'84 168 123 4567',
		'84 168.123.4567',
		'84 168-123-4567',
		# 84 0168
		'8401681234567',
		'84 0168 123 4567',
		'84 0168.123.4567',
		'84 0168-123-4567',
		# (84)
		'(84)1681234567',
		'(84) 168 123 4567',
		'(84) 168.123.4567',
		'(84) 168-123-4567',
		# (84) 0168
		'(84)01681234567',
		'(84) 0168 123 4567',
		'(84) 0168.123.4567',
		'(84) 0168-123-4567',
		# +84 168
		'+8401681234567',
		'+84 0168 123 4567',
		'+84 0168.123.4567',
		'+84 0168-123-4567',
		# +84 0168
		'+8401681234567',
		'+84 0168 123 4567',
		'+84 0168.123.4567',
		'+84 0168-123-4567',
		# (+84) 168
		'(+84)01681234567',
		'(+84) 0168 123 4567',
		'(+84) 0168.123.4567',
		'(+84) 0168-123-4567',
		# (+84) 0168
		'(+84)01681234567',
		'(+84) 0168 123 4567',
		'(+84) 0168.123.4567',
		'(+84) 0168-123-4567',
	]

	for text in list_test_10_digits:
		phone_numbers = extract_phone_numbers(text)
		assert len(phone_numbers) == 1 and phone_numbers[0] == "0981234567", text

	for text in list_test_11_digits:
		phone_numbers = extract_phone_numbers(text)
		assert len(phone_numbers) == 1 and phone_numbers[0] == "0981234567", text

if __name__ == "__main__":
	test()
	pass